<!DOCTYPE html>
<html lang="es">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>Re:Anime</title>
      <link href="https://fonts.googleapis.com/css2?family=Zen+Tokyo+Zoo&family=Nunito:wght@300;700&display=swap" rel="stylesheet" />
      <style>
         * { margin: 0; padding: 0; box-sizing: border-box; }
         body {
         font-family: 'Nunito', sans-serif;
         background: linear-gradient(135deg, #ffe1f0, #caf0f8);
         min-height: 100vh;
         overflow-x: hidden;
         position: relative;
         transition: background 1s ease, color 0.5s;
         padding-top: 60px;
         text-align: center;
         }
         header {
         position: fixed; top: 0; left: 0; width: 100%;
         background: #fff0fa;
         padding: 0.8rem 2rem;
         box-shadow: 0 2px 8px rgba(0,0,0,0.1);
         font-family: 'Zen Tokyo Zoo', cursive;
         font-size: 2rem;
         color: #ff4ecd;
         z-index: 1000;
         transition: background 0.5s, color 0.5s;
         }
         footer {
         margin-top: 4rem;
         padding: 1rem;
         background: #fff0fa;
         color: #ff4ecd;
         font-size: 0.9rem;
         transition: background 0.5s, color 0.5s;
         }
         footer .footer-link {
         color: #ff79c6;
         text-decoration: none;
         font-weight: bold;
         transition: color 0.5s;
         }
         body.dark { background: linear-gradient(135deg, #2b2b2b, #444); color: #eee; }
         body.dark footer { background: #1e1e1e; color: #ff4ecd; }
         body.dark footer .footer-link { color: #ff79c6; }
         body.dark header { background: #1e1e1e; color: #ff4ecd; }
         body.dark .intro h1,
         body.dark .news-section h2,
         body.dark .anime-card h3,
         body.dark .anime-card .info,
         body.dark #anime-details h2,
         body.dark #anime-details p.description,
         body.dark .genre-item span,
         body.dark .news-item h3,
         body.dark .news-item p { color: #eee !important; }
         body.dark .genre-item { background: #444 !important; }
         body.dark .genre-item:hover,
         body.dark .genre-item:has(input[type="checkbox"]:checked) { background-color: #ff4ecd !important; }
         .intro {
         height: 80vh;
         display: flex;
         flex-direction: column;
         align-items: center;
         justify-content: center;
         text-align: center;
         padding: 0 1rem;
         transition: opacity 0.6s ease;
         }
         .intro h1 {
         font-family: 'Zen Tokyo Zoo', cursive;
         font-size: 4rem;
         color: #ff79c6;
         text-shadow: 0 0 15px #ff9de5, 0 0 30px #ff4ecd;
         animation: glow 3s ease-in-out infinite;
         margin-bottom: 0.5rem;
         }
         .intro p {
         font-size: 1.2rem;
         margin-bottom: 2rem;
         max-width: 600px;
         color: #222;
         transition: color 0.5s;
         }
         body.dark .intro p { color: #eee; }
         .btn {
         background-color: #ff8fab;
         border: none;
         border-radius: 30px;
         color: white;
         font-size: 1.1rem;
         font-weight: bold;
         cursor: pointer;
         padding: 0.9rem 2rem;
         box-shadow: 0 0 15px #ff8fab80;
         transition: 0.3s;
         }
         .btn:hover { background-color: #ff5e95; transform: scale(1.05); }
         .hidden { display: none !important; opacity: 0 !important; }
         .main-content {
         display: flex; flex-direction: row-reverse;
         max-width: 1200px; margin: 0 auto 2rem;
         padding: 0 1rem; gap: 1.5rem;
         }
         .sidebar {
         width: 220px; max-height: 500px; overflow-y: auto;
         background: #fff0fa; padding: 1rem;
         border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);
         }
         .content-area { flex: 1; }
         .genre-filters { display: flex; flex-direction: column; gap: 0.5rem; }
         .genre-item {
         display: flex; align-items: center; gap: 0.6rem;
         background: #ff8fab88; padding: 0.5rem 1rem;
         border-radius: 30px; font-size: 0.95rem;
         color: #333; cursor: pointer;
         transition: background 0.3s, color 0.3s;
         user-select: none;
         }
         .genre-item:hover { background-color: #ff8fab; }
         .genre-item input[type="checkbox"] {
         accent-color: #ff4ecd;
         width: 18px; height: 18px; margin: 0; cursor: pointer;
         }
         .genre-item input[type="checkbox"]:checked + span {
         font-weight: bold; color: white;
         }
         .genre-item:has(input[type="checkbox"]:checked) {
         background-color: #ff4ecd;
         }
         .anime-directory {
         display: grid;
         grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
         gap: 1.2rem;
         }
         .news-section {
         max-width: 900px; margin: 2rem auto 4rem;
         text-align: left; padding: 0 1rem;
         }
         .news-section h2 {
         color: #ff4ecd; font-size: 2rem; margin-bottom: 1rem;
         }
         .news-item {
         background: white; border-radius: 12px;
         padding: 1rem; margin-bottom: 1rem;
         box-shadow: 0 4px 12px rgba(0,0,0,0.1);
         display: flex; gap: 1rem; align-items: center;
         }
         .news-item img {
         width: 120px; height: 80px; object-fit: cover;
         border-radius: 8px; flex-shrink: 0;
         }
         .news-item div { flex: 1; }
         .news-item h3 { margin-bottom: 0.3rem; color: #333; }
         .news-item p { color: #666; font-size: 0.9rem; }
         .filter-section {
         max-width: 900px; margin: 0 auto 2rem;
         padding: 0 1rem; text-align: left;
         display: flex; flex-wrap: wrap;
         gap: 1rem; align-items: center; justify-content: space-between;
         }
         #search-input {
         flex: 1 1 200px;
         padding: 0.5rem 1rem;
         font-size: 1rem;
         border-radius: 30px;
         border: 1px solid #ddd;
         outline: none;
         transition: 0.3s;
         }
         #search-input:focus {
         border-color: #ff4ecd;
         box-shadow: 0 0 8px #ff4ecd88;
         }
         .genre-filters {
         display: flex;
         flex-wrap: wrap;
         gap: 0.5rem;
         }
         .genre-filters label {
         background: #ff8fab88;
         padding: 0.3rem 0.8rem;
         border-radius: 20px;
         font-size: 0.9rem;
         cursor: pointer;
         user-select: none;
         transition: background 0.3s;
         }
         .genre-filters input[type="checkbox"]:checked + label {
         background: #ff4ecd;
         color: white;
         font-weight: bold;
         }
         /* Directorio */
         .anime-directory {
         max-width: 900px;
         margin: 0 auto 4rem;
         display: grid;
         grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
         gap: 1rem;
         padding: 0 1rem;
         }
         .anime-card {
         background: white;
         border-radius: 12px;
         overflow: hidden;
         box-shadow: 0 4px 12px rgba(0,0,0,0.1);
         transition: transform 0.3s ease;
         cursor: pointer; /* changed to pointer so user knows it's clickable */
         text-align: center;
         }
         .anime-card:hover {
         transform: scale(1.05);
         }
         .anime-card img {
         width: 100%;
         height: 220px;
         object-fit: cover;
         }
         .anime-card .image-container {
         position: relative;
         width: 100%;
         height: 220px;
         overflow: hidden;
         }
         .anime-card .image-container img {
         width: 100%;
         height: 100%;
         object-fit: cover;
         display: block;
         }
         .anime-card .anime-title-overlay {
         position: absolute;
         bottom: 0;
         width: 100%;
         padding: 0.5rem;
         background: linear-gradient(to top, rgba(0,0,0,0.7), rgba(0,0,0,0));
         color: #fff;
         font-weight: bold;
         font-size: 0.95rem;
         text-shadow: 0 0 5px rgba(0,0,0,0.6);
         }
         .anime-card h3 {
         margin: 0.5rem 0 0.3rem;
         font-size: 1rem;
         color: #333;
         }
         .anime-card .info {
         font-size: 0.85rem;
         color: #666;
         padding-bottom: 0.8rem;
         }
         /* SecciÃ³n detalles anime */
         #anime-details {
         max-width: 900px;
         margin: 2rem auto 4rem;
         background: white;
         border-radius: 12px;
         padding: 1rem 1.5rem;
         box-shadow: 0 4px 12px rgba(0,0,0,0.1);
         text-align: left;
         display: none;
         }
         #anime-details h2 {
         font-family: 'Zen Tokyo Zoo', cursive;
         color: #ff4ecd;
         margin-bottom: 0.5rem;
         }
         #anime-details p.description {
         margin-bottom: 1rem;
         color: #444;
         font-size: 1rem;
         }
         #episode-list {
         margin-bottom: 1rem; display: flex;
         flex-wrap: wrap; gap: 0.5rem;
         }
         #episode-list button {
         background: #ff8fab; border: none;
         border-radius: 20px; padding: 0.4rem 1rem;
         color: white; cursor: pointer; font-weight: 700;
         transition: background 0.3s;
         }
         #episode-list button:hover,
         #episode-list button.active { background: #ff4ecd; }
         #video-player {
         width: 100%;
         max-width: 920px;
         margin: 0 auto; border-radius: 12px;
         overflow: hidden; box-shadow: 0 0 20px #ff4ecd88;
         position: relative;
         background: #000;
         /* Keep a consistent 16:9 layout while remaining responsive */
         aspect-ratio: 16 / 9;
         height: auto;
         }

         .video-container {
         width: 100%; height: 100%; position: relative;
         }

         .video-container iframe,
         .video-container video,
         .video-container object,
         .video-container embed {
         width: 100%; height: 100%; position: absolute; top: 0; left: 0;
         border: none; display: block; object-fit: cover;
         }
         @keyframes glow {
         0%,100% { text-shadow: 0 0 15px #ff9de5,0 0 30px #ff4ecd; }
         50%  { text-shadow: 0 0 25px #ff79c6,0 0 40px #ff2ea6; }
         }
         @media (max-width:768px) {
         .main-content { flex-direction: column; padding:0 1rem; }
         .sidebar { width:100%; max-height:none; overflow-y:visible; margin-bottom:1rem; }
         #search-input { width:100%; }
         .genre-item { justify-content:flex-start; }
         }
         #login-btn {
         position: fixed; top: 10px; right: 10px;
         background-color: #ff8fab; color: white;
         padding: 0.5rem 1rem; border-radius: 30px;
         text-decoration: none; font-weight: bold;
         box-shadow: 0 0 10px #ff8fab80; transition: 0.3s;
         z-index: 1001;
         }
         #login-btn:hover { background-color: #ff4ecd; }
         #user-info {
         position: fixed; top: 10px; right: 10px;
         display: flex; align-items: center; gap: 0.5rem;
         z-index: 1001; cursor: pointer;
         }
         #user-info img { width: 40px; border-radius: 50%; }
         #user-popup {
         position: fixed; top: 60px; right: 10px;
         background: #fff0fa; color: #333;
         border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);
         padding: 1rem; min-width: 200px; z-index: 1002;
         display: none; text-align: left;
         }
         #user-popup button {
         margin-top: 1rem; background: #ff4ecd;
         color: white; padding: 0.5rem 1rem;
         border: none; border-radius: 20px;
         cursor: pointer; width: 100%;
         }
         .theme-toggle {
         position: fixed; top: 10px; left: 10px;
         background: #ff8fab; color: white;
         padding: 0.5rem 1rem; border-radius: 30px;
         font-weight: bold; cursor: pointer;
         box-shadow: 0 0 10px #ff8fab80;
         z-index: 1001;
         }
         body.dark .news-item,
         body.dark .anime-card,
         body.dark #anime-details,
         body.dark .sidebar {
         background: #333; color: #eee;
         }
         .fade-out {
         animation: fadeOutZoom 1s ease forwards;
         }
         @keyframes fadeOutZoom {
         0% {
         opacity: 1;
         transform: scale(1);
         }
         100% {
         opacity: 0;
         transform: scale(0.9);
         display: none;
         }
         }
         .fade-in {
         animation: fadeInUp 1s ease forwards;
         }
         @keyframes fadeInUp {
         0% {
         opacity: 0;
         transform: translateY(30px);
         }
         100% {
         opacity: 1;
         transform: translateY(0);
         }
         }
       #mascot-container {
          position: fixed;
          left: 10vw;
          bottom: 30px;
          z-index: 2002;
          width: 90px;
          height: 120px;
          pointer-events: auto;
          user-select: none;
       }
       #mascot-img {
          width: 80px;
          height: 80px;
          transition: transform 0.2s;
          cursor: pointer;
       }
       #mascot-speech {
          position: absolute;
          left: 50%;
          bottom: 120px; /* move higher above mascot's head */
          transform: translateX(-50%);
          background: #fff0fa;
          color: #ff4ecd;
          border-radius: 16px;
          box-shadow: 0 2px 8px #ff4ecd44;
          padding: 0.6rem 1.2rem;
          font-size: 1.05rem;
          min-width: 120px;
          max-width: 240px;
          text-align: center;
          pointer-events: none;
          animation: mascotSpeechFade 0.5s;
          z-index: 10;
       }
       @keyframes mascotSpeechFade {
          from { opacity: 0; transform: translateY(20px) scale(0.95); }
          to { opacity: 1; transform: translateY(0) scale(1); }
       }
       #mascot-chat {
          position: fixed;
          right: 30px;
          bottom: 30px;
          z-index: 3000;
          background: rgba(59, 59, 59, 0.98);
          border-radius: 18px;
          box-shadow: 0 4px 24px #ff4ecd44;
          padding: 0.5rem;
          min-width: 260px;
          max-width: 90vw;
       }
       #mascot-chat-box {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          height: 320px;
          min-width: 260px;
          max-width: 320px;
       }
       #mascot-chat-messages {
          flex: 1 1 auto;
          min-height: 60px;
          max-height: 180px;
          overflow-y: auto;
          font-size: 0.95rem;
          margin-bottom: 0.5rem;
          background: #ff8fab;
          color: #ffffff;
          border-radius: 8px;
          padding: 0.3rem 0.5rem;
       }
       #mascot-chat-input {
          border-radius: 12px;
          border: 1px solid #ff4ecd;
          padding: 0.4rem 0.8rem;
          font-size: 1rem;
          outline: none;
       }
       #mascot-chat-send {
          background: #ff8fab;
          color: white;
          border: none;
          border-radius: 12px;
          padding: 0.4rem 1rem;
          font-weight: bold;
          cursor: pointer;
          margin-top: 0.2rem;
       }
       #mascot-chat-send:hover {
          background: #ff4ecd;
       }
       #mascot-chat-close {
          background: #eee;
          color: #ff4ecd;
          border: none;
          border-radius: 12px;
          padding: 0.2rem 0.7rem;
          font-weight: bold;
          cursor: pointer;
          align-self: flex-end;
       }
    </style>
 </head>
 <audio id="bg-music" src="Assets/background-theme.mp3" autoplay loop hidden></audio>
 <script>
 document.addEventListener("DOMContentLoaded", () => {
   const music = document.getElementById("bg-music");
   if (music) {
     music.volume = 0.1; // volumen al 10%
     music.play().catch(e => console.log("Autoplay bloqueado:", e));
   }
 });
 </script>

 <body>
    <header>Re:Anime</header>
    <a id="login-btn" href="#">Iniciar sesiÃ³n con Discord</a>
    <div id="user-info" class="hidden"></div>
    <div id="user-popup"></div>
    <button class="theme-toggle" onclick="toggleTheme()" id="theme-toggle">ðŸŒ— Tema</button>
    <!-- Mascot -->
    <div id="mascot-container">
      <img id="mascot-img" src="Assets/ReAnime-Mascot.png" alt="Ram" />
      <div id="mascot-speech" class="hidden"></div>
    </div>
    <div id="mascot-chat" class="hidden">
      <div id="mascot-chat-box">
        <div id="mascot-chat-messages"></div>
        <div id="mascot-chat-actions" style="display:flex;flex-direction:column;gap:0.3rem;">
          <input id="mascot-chat-input" type="text" placeholder="Ask me something..." />
          <button id="mascot-chat-send">Send</button>
          <button id="mascot-chat-close">âœ–</button>
        </div>
      </div>
    </div>
    <script>
       // Mascot logic
       const mascotImg = document.getElementById('mascot-img');
       const mascotContainer = document.getElementById('mascot-container');
       const mascotSpeech = document.getElementById('mascot-speech');
       const mascotChat = document.getElementById('mascot-chat');
       const mascotChatBox = document.getElementById('mascot-chat-box');
       const mascotChatMessages = document.getElementById('mascot-chat-messages');
       const mascotChatInput = document.getElementById('mascot-chat-input');
       const mascotChatSend = document.getElementById('mascot-chat-send');
       const mascotChatClose = document.getElementById('mascot-chat-close');

       // Walking animation
       let mascotPos = 10; // vw
       let mascotDir = 1; // 1: right, -1: left
       function walkMascot() {
          mascotPos += mascotDir * 0.15;
          if (mascotPos > 80) mascotDir = -1;
          if (mascotPos < 5) mascotDir = 1;
          mascotContainer.style.left = mascotPos + 'vw';
          mascotImg.style.transform = mascotDir === 1 ? 'scaleX(1)' : 'scaleX(-1)';
       }
       setInterval(walkMascot, 30);

       // Speech bubbles
       const mascotMessages = [
         "Â¡Hola! Soy tu guÃ­a kawaii~",
         "Â¿Quieres una recomendaciÃ³n de anime?",
         "Hazme clic para hablar conmigo!",
         "Â¿SabÃ­as que Re:Zero tiene 25 episodios?",
         "Puedo ayudarte a encontrar tu prÃ³ximo anime favorito!",
         "PregÃºntame lo que quieras~",
         "Â¿Te gusta la fantasÃ­a o el isekai?",
         "Â¡No olvides agregar tus favoritos!",
         "Â¿Buscas algo de acciÃ³n, romance o comedia?",
         "Â¡Dime un gÃ©nero y te recomiendo!",
         "Â¿Te gustarÃ­a ver algo nuevo hoy?",
         "Â¡Estoy aquÃ­ para ayudarte!",
         "Â¿Anime corto o largo? Â¡Pregunta!",
         "Â¿SabÃ­as que puedes buscar por gÃ©nero?",
         "Â¡PÃ­deme otro anime si no te convence!"
       ];
       function showMascotSpeech(msg) {
          mascotSpeech.textContent = msg;
          mascotSpeech.classList.remove('hidden');
          setTimeout(() => mascotSpeech.classList.add('hidden'), 6500); // Dura mÃ¡s tiempo
       }
       setInterval(() => {
          if (mascotChat.classList.contains('hidden')) {
             showMascotSpeech(mascotMessages[Math.floor(Math.random()*mascotMessages.length)]);
          }
       }, 7000);

       mascotImg.onclick = () => {
          mascotChat.classList.remove('hidden');
          mascotChatInput.focus();
          mascotChatMessages.innerHTML = '<div><b>Ram:</b> Â¡Hola! Â¿En quÃ© puedo ayudarte?</div>';
       };
       mascotChatClose.onclick = () => mascotChat.classList.add('hidden');

       // Chat logic
       function sendMascotMessage(msg, isUser) {
          mascotChatMessages.innerHTML += `<div style="text-align:${isUser?'right':'left'}"><b>${isUser?'TÃº':'Ram'}:</b> ${msg}</div>`;
          mascotChatMessages.scrollTop = mascotChatMessages.scrollHeight;
       }
       mascotChatSend.onclick = () => {
          const userMsg = mascotChatInput.value.trim();
          if (!userMsg) return;
          sendMascotMessage(userMsg, true);
          mascotChatInput.value = '';
          handleMascotChat(userMsg);
       };
       mascotChatInput.addEventListener('keydown', e => {
          if (e.key === 'Enter') mascotChatSend.click();
       });

       // Handle mascot chat
       function handleMascotChat(msg) {
           msg = msg.toLowerCase();
           // Remove previous recommendation button if exists
           let oldBtn = document.getElementById('mascot-go-anime');
           if (oldBtn) oldBtn.remove();

           // Saludos
           if (/^(hola|hello|buenas|holi|holaa|hey|hi|que onda|quÃ© onda)/i.test(msg)) {
             const greetings = [
               'Â¡Hola! Â¿Quieres una recomendaciÃ³n de anime?',
               'Â¡Holi! Â¿Te ayudo a buscar anime?',
               'Â¡Hey! Â¿Buscas algo para ver?',
               'Â¡Bienvenido! PregÃºntame por animes o gÃ©neros.'
             ];
             sendMascotMessage(greetings[Math.floor(Math.random()*greetings.length)], false);
             return;
           }

           // Despedidas
           if (/(adiÃ³s|adios|bye|nos vemos|hasta luego|see you|chau|chao)/i.test(msg)) {
             const byes = [
               'Â¡Hasta luego! Vuelve cuando quieras.',
               'Â¡Nos vemos! Espero haberte ayudado.',
               'Â¡Chao! Que tengas un buen dÃ­a.',
               'Â¡Bye bye! No olvides recomendarme a tus amigos.'
             ];
             sendMascotMessage(byes[Math.floor(Math.random()*byes.length)], false);
             return;
           }

           // Agradecimientos
           if (/(gracias|thanks|thank you|te lo agradezco|muy amable)/i.test(msg)) {
             const thanks = [
               'Â¡De nada! Si necesitas algo mÃ¡s, aquÃ­ estarÃ©.',
               'Â¡Para eso estoy! PregÃºntame cuando quieras.',
               'Â¡Con gusto! Â¿Quieres otra recomendaciÃ³n?',
               'Â¡Siempre feliz de ayudar!'
             ];
             sendMascotMessage(thanks[Math.floor(Math.random()*thanks.length)], false);
             return;
           }

           // Pedir otro anime
           if (/(otro|mÃ¡s|dame otro|dame uno mÃ¡s|otra opciÃ³n|otra recomendaciÃ³n|otra|next|another|more)/i.test(msg)) {
             sendMascotMessage('Â¡Por supuesto! AquÃ­ va otra recomendaciÃ³n...', false);
             fetch('animes.json').then(r=>r.json()).then(animes => {
               if (!animes.length) {
                 sendMascotMessage('No encontrÃ© ningÃºn anime en la base de datos.', false);
                 return;
               }
               const pick = animes[Math.floor(Math.random()*animes.length)];
               sendMascotMessage(`Te recomiendo: <b>${pick.name}</b>.<br>Â¿Quieres ir a verlo?`, false);
               let actions = document.getElementById('mascot-chat-actions');
               if (actions) {
                 let btn = document.createElement('button');
                 btn.id = 'mascot-go-anime';
                 btn.textContent = `Â¡Ir a ${pick.name}!`;
                 btn.style.background = '#ff4ecd';
                 btn.style.color = '#fff';
                 btn.style.border = 'none';
                 btn.style.borderRadius = '12px';
                 btn.style.padding = '0.4rem 1rem';
                 btn.style.marginTop = '0.2rem';
                 btn.style.cursor = 'pointer';
                 btn.onclick = () => { window.location.href = `anime.html?id=${pick.id}`; };
                 actions.insertBefore(btn, actions.firstChild);
               }
             });
             return;
           }

           // Recomendar anime por gÃ©nero y filtro de groserÃ­as
           const badWords = [
             'puta','puto','mierda','pendejo','pendeja','idiota','imbecil','estupido','estÃºpido','estupida','estÃºpida','joder','chingar','chingada','culero','culera','cabron','cabrÃ³n','cabrona','coÃ±o','verga','vergas','cagar','cagas','cago','cagada','cagado','cagaste','zorra','perra','maldito','maldita','hdp','hijo de puta','fuck','shit','bitch','asshole','dick','fag','faggot','bastard','slut','whore','suck','sucks','sucking','sucka','sucker','retard','retarded','imbÃ©cil','marica','maricÃ³n','maricona','gay','putazo','putazos','pito','culo','culito','chingÃ³n','chingona','chingones','chingonas','chingadazo','chingadazos','chingadita','chingaditas','chingadÃ³n','chingadÃ³na','chingadones','chingadonas','chingadazo','chingadazos','chingadita','chingaditas','chingadÃ³n','chingadÃ³na','chingadones','chingadonas'
           ];
           if (badWords.some(bw => msg.includes(bw))) {
             sendMascotMessage('Â¡Eso no se dice! Me voy...', false);
             setTimeout(() => {
               mascotContainer.style.display = 'none';
               mascotChat.classList.add('hidden');
             }, 2000);
             return;
           }

           fetch('animes.json').then(r=>r.json()).then(animes => {
             if (!animes.length) {
               sendMascotMessage('No encontrÃ© ningÃºn anime en la base de datos.', false);
               return;
             }
             // Obtener todos los gÃ©neros Ãºnicos
             const allGenres = Array.from(new Set(animes.flatMap(a => a.genre.map(g => g.toLowerCase()))));
             // Palabras a ignorar
             const ignoreWords = ['un', 'una', 'unos', 'unas', 'el', 'la', 'los', 'las', 'otro', 'otra', 'otros', 'otras', 'de', 'del', 'al', 'a', 'me', 'quiero', 'ver', 'dame', 'ponme', 'pon', 'muÃ©strame', 'muÃ©stranos', 'sugiere', 'ensÃ©Ã±ame', 'anime', 'recomiÃ©ndame', 'recomienda', 'recomiendas', 'sugiere', 'busco', 'para', 'ver', 'quiero', 'me', 'da', 'dame', 'una', 'uno', 'mÃ¡s', 'mas', 'y', 'o', 'por', 'favor', 'pero', 'sin', 'no', 'quiero', 'que', 'sea', 'con', 'ni', 'ningÃºn', 'ninguna', 'ningunos', 'ningunas'];
             // Tokenizar mensaje
             const tokens = msg.split(/[^a-zÃ¡Ã©Ã­Ã³ÃºÃ¼Ã±0-9\-]+/i).map(t => t.trim().toLowerCase()).filter(Boolean);
             // --- DETECTAR GÃ‰NEROS A INCLUIR Y EXCLUIR ---
             let includeGenres = [];
             let excludeGenres = [];
             // Buscar "no quiero [gÃ©nero]", "sin [gÃ©nero]", "pero no [gÃ©nero]", "que no sea [gÃ©nero]"
             for (const genre of allGenres) {
               // Excluir si hay "no quiero [gÃ©nero]", "sin [gÃ©nero]", "pero no [gÃ©nero]", "que no sea [gÃ©nero]"
               const negPatterns = [
                 `no quiero ${genre}`,
                 `sin ${genre}`,
                 `pero no ${genre}`,
                 `que no sea ${genre}`,
                 `que no sean ${genre}`,
                 `excepto ${genre}`,
                 `evita ${genre}`,
                 `no ${genre}`
               ];
               if (negPatterns.some(pat => msg.includes(pat))) {
                 excludeGenres.push(genre);
                 continue;
               }
               // Incluir si el gÃ©nero estÃ¡ en el mensaje y no estÃ¡ en palabras ignoradas
               if (tokens.includes(genre) && !ignoreWords.includes(genre)) {
                 includeGenres.push(genre);
               }
             }
             // Si el usuario solo pide "sin [gÃ©nero]" o "no quiero [gÃ©nero]", pero no pide ningÃºn gÃ©nero, recomendar cualquier anime que NO tenga ese gÃ©nero
             if (excludeGenres.length && !includeGenres.length) {
               let found = animes.filter(a => !a.genre.map(g => g.toLowerCase()).some(g => excludeGenres.includes(g)));
               if (!found.length) {
                 sendMascotMessage(`No encontrÃ© animes que no sean de <b>${excludeGenres.join(', ')}</b>. Â¿Quieres probar con otro gÃ©nero?`, false);
                 return;
               }
               const pick = found[Math.floor(Math.random()*found.length)];
               sendMascotMessage(`Te recomiendo un anime que no es de <b>${excludeGenres.join(', ')}</b>: <b>${pick.name}</b>.<br>Â¿Quieres ir a verlo?`, false);
               let actions = document.getElementById('mascot-chat-actions');
               if (actions) {
                 let btn = document.createElement('button');
                 btn.id = 'mascot-go-anime';
                 btn.textContent = `Â¡Ir a ${pick.name}!`;
                 btn.style.background = '#ff4ecd';
                 btn.style.color = '#fff';
                 btn.style.border = 'none';
                 btn.style.borderRadius = '12px';
                 btn.style.padding = '0.4rem 1rem';
                 btn.style.marginTop = '0.2rem';
                 btn.style.cursor = 'pointer';
                 btn.onclick = () => { window.location.href = `anime.html?id=${pick.id}`; };
                 actions.insertBefore(btn, actions.firstChild);
               }
               return;
             }
             // Si el usuario pide incluir y excluir gÃ©neros
             if (includeGenres.length && excludeGenres.length) {
               let found = animes.filter(a =>
                 includeGenres.every(g => a.genre.map(x => x.toLowerCase()).includes(g)) &&
                 !a.genre.map(g => g.toLowerCase()).some(g => excludeGenres.includes(g))
               );
               if (!found.length) {
                 sendMascotMessage(`No encontrÃ© animes de <b>${includeGenres.join(', ')}</b> que no sean de <b>${excludeGenres.join(', ')}</b>. Â¿Quieres probar con otros gÃ©neros?`, false);
                 return;
               }
               const pick = found[Math.floor(Math.random()*found.length)];
               sendMascotMessage(`Te recomiendo un anime de <b>${includeGenres.join(', ')}</b> y que no es de <b>${excludeGenres.join(', ')}</b>: <b>${pick.name}</b>.<br>Â¿Quieres ir a verlo?`, false);
               let actions = document.getElementById('mascot-chat-actions');
               if (actions) {
                 let btn = document.createElement('button');
                 btn.id = 'mascot-go-anime';
                 btn.textContent = `Â¡Ir a ${pick.name}!`;
                 btn.style.background = '#ff4ecd';
                 btn.style.color = '#fff';
                 btn.style.border = 'none';
                 btn.style.borderRadius = '12px';
                 btn.style.padding = '0.4rem 1rem';
                 btn.style.marginTop = '0.2rem';
                 btn.style.cursor = 'pointer';
                 btn.onclick = () => { window.location.href = `anime.html?id=${pick.id}`; };
                 actions.insertBefore(btn, actions.firstChild);
               }
               return;
             }
             // Si el usuario pide solo incluir gÃ©neros
             if (includeGenres.length) {
               let found = animes.filter(a => includeGenres.every(g => a.genre.map(x => x.toLowerCase()).includes(g)));
               if (!found.length) {
                 sendMascotMessage(`No encontrÃ© animes de <b>${includeGenres.join(', ')}</b>. Â¿Quieres probar con otros gÃ©neros?`, false);
                 return;
               }
               const pick = found[Math.floor(Math.random()*found.length)];
               sendMascotMessage(`Te recomiendo un anime de <b>${includeGenres.join(', ')}</b>: <b>${pick.name}</b>.<br>Â¿Quieres ir a verlo?`, false);
               let actions = document.getElementById('mascot-chat-actions');
               if (actions) {
                 let btn = document.createElement('button');
                 btn.id = 'mascot-go-anime';
                 btn.textContent = `Â¡Ir a ${pick.name}!`;
                 btn.style.background = '#ff4ecd';
                 btn.style.color = '#fff';
                 btn.style.border = 'none';
                 btn.style.borderRadius = '12px';
                 btn.style.padding = '0.4rem 1rem';
                 btn.style.marginTop = '0.2rem';
                 btn.style.cursor = 'pointer';
                 btn.onclick = () => { window.location.href = `anime.html?id=${pick.id}`; };
                 actions.insertBefore(btn, actions.firstChild);
               }
               return;
             }
             // Si el usuario pregunta por gÃ©neros y no se detecta ninguno vÃ¡lido
             if (/(gÃ©nero|genero|gÃ©neros|generos|tipos|tipo|categorÃ­a|categorias|categorÃ­a|categorÃ­as)/i.test(msg)) {
               sendMascotMessage(`Los gÃ©neros disponibles son: <b>${allGenres.join(', ')}</b>. Â¿Quieres uno de esos?`, false);
               return;
             }
             // Pedir recomendaciÃ³n general
             if (/(recomiÃ©ndame|recomienda|recomiendas|recomendar|recomienda|sugiere|sugerencia|dame un anime|dame una|quiero ver|ponme|pon|muÃ©strame|muÃ©stranos|anime para ver|quÃ© veo|que veo|quÃ© me recomiendas|que me recomiendas|anime)/i.test(msg)) {
               const variants = [
                 'Â¡Claro! DÃ©jame buscar un anime para ti...',
                 'Â¡Con gusto! AquÃ­ va una recomendaciÃ³n...',
                 'Â¡Un momento! Buscando el mejor anime para ti...',
                 'Â¡Listo! Te recomiendo este anime...'
               ];
               sendMascotMessage(variants[Math.floor(Math.random()*variants.length)], false);
               const pick = animes[Math.floor(Math.random()*animes.length)];
               sendMascotMessage(`Te recomiendo: <b>${pick.name}</b>.<br>Â¿Quieres ir a verlo?`, false);
               let actions = document.getElementById('mascot-chat-actions');
               if (actions) {
                 let btn = document.createElement('button');
                 btn.id = 'mascot-go-anime';
                 btn.textContent = `Â¡Ir a ${pick.name}!`;
                 btn.style.background = '#ff4ecd';
                 btn.style.color = '#fff';
                 btn.style.border = 'none';
                 btn.style.borderRadius = '12px';
                 btn.style.padding = '0.4rem 1rem';
                 btn.style.marginTop = '0.2rem';
                 btn.style.cursor = 'pointer';
                 btn.onclick = () => { window.location.href = `anime.html?id=${pick.id}`; };
                 actions.insertBefore(btn, actions.firstChild);
               }
               return;
             }
             // Preguntas frecuentes y respuestas simpÃ¡ticas
             if (/(quiÃ©n eres|quien eres|cÃ³mo te llamas|como te llamas|eres real|quÃ© eres|que eres|mascota|mascot|ram|quiÃ©n te creÃ³|quien te creo)/i.test(msg)) {
               const about = [
                 'Â¡Soy Ram, tu asistente anime kawaii! ðŸ’–',
                 'Â¡Me llamo Ram y estoy aquÃ­ para ayudarte con el mundo anime!',
                 'Â¡Soy la mascota virtual de Re:Anime! Â¿Quieres una recomendaciÃ³n?',
                 'Â¡Fui creada para hacerte sonreÃ­r y recomendarte animes!'
               ];
               sendMascotMessage(about[Math.floor(Math.random()*about.length)], false);
               return;
             }
             if (/(cuÃ¡ntos animes|cuantos animes|cuantos hay|cuÃ¡ntos hay|cuantos puedes|cuÃ¡ntos puedes|cuantos sabes|cuÃ¡ntos sabes)/i.test(msg)) {
               sendMascotMessage('Â¡Puedo recomendarte todos los animes que estÃ©n en mi base de datos! Â¿Quieres uno?', false);
               return;
             }
             if (/(me aburro|estoy aburrido|estoy aburrida|aburrido|aburrida)/i.test(msg)) {
               sendMascotMessage('Â¡Un anime puede ser la soluciÃ³n perfecta para el aburrimiento! Â¿Te recomiendo uno?', false);
               return;
             }
             // Respuesta por defecto
             const fallback = [
               'No estoy segura de cÃ³mo responder a eso, pero puedo recomendarte un anime si quieres.',
               'Â¡Eso suena interesante! Â¿Quieres que te recomiende un anime?',
               'No entendÃ­ muy bien, pero si me pides un anime, Â¡te ayudo!',
               'Â¡Pregunta por gÃ©nero, por tipo o simplemente di "recomiÃ©ndame un anime"!'
             ];
             sendMascotMessage(fallback[Math.floor(Math.random()*fallback.length)], false);
           });
         }
    </script>
      <section class="intro" id="intro">
         <h1>Re:Anime</h1>
         <p>Tu mundo anime! Descubre tu prÃ³xima obsesiÃ³n, esta pÃ¡gina estÃ¡ en desarrollo y seguiremos aÃ±adiendo contenido :3</p>
         <button class="btn" id="enter-btn">Entrar al mundo anime</button>
      </section>
      <section class="news-section" id="news-section" style="display:none; position:relative;">
        <h2>Ãšltimas noticias de anime</h2>
        <button id="news-prev" class="news-arrow" style="display:none; position:absolute; left:-40px; top:50%; transform:translateY(-50%); background:#ff8fab; color:white; border:none; border-radius:50%; width:40px; height:40px; font-size:1.5rem; cursor:pointer; z-index:10;">&#8592;</button>
        <div id="news-slider" style="overflow:hidden; position:relative;">
          <div id="news-list" style="display:flex; transition:transform 0.6s cubic-bezier(.77,0,.18,1); will-change:transform;"></div>
        </div>
        <button id="news-next" class="news-arrow" style="display:none; position:absolute; right:-40px; top:50%; transform:translateY(-50%); background:#ff8fab; color:white; border:none; border-radius:50%; width:40px; height:40px; font-size:1.5rem; cursor:pointer; z-index:10;">&#8594;</button>
      </section>
      <div class="main-content" id="filter-section" style="display:none;">
         <aside class="sidebar">
            <h3 style="margin-bottom:0.5rem; color:#ff4ecd;">GÃ©neros</h3>
            <div class="genre-filters" id="genre-filters"></div>
         </aside>
         <section class="content-area">
            <input type="text" id="search-input" placeholder="Buscar anime por nombre..." style="width: 100%; margin-bottom: 1rem;" />
            <section class="anime-directory" id="anime-directory">
               <!-- Animes aquÃ­ -->
            </section>
         </section>
      </div>
      <div id="anime-details">
         <h2 id="detail-name"></h2>
         <p class="description" id="detail-description"></p>
         <div id="episode-list"></div>
         <div id="video-player"></div>
      </div>
      <script>
         const clientId = "1390810180823945350";
         const redirectUri = "https://imram-software.github.io/ReAnime/callback.html";
         const scope = "identify";
         const loginBtn = document.getElementById("login-btn");
         loginBtn.href = `https://discord.com/oauth2/authorize?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&response_type=token&scope=${scope}`;
         
         const user = JSON.parse(localStorage.getItem("user"));
         const userInfo = document.getElementById("user-info");
         const userPopup = document.getElementById("user-popup");
         
         if (user) {
           loginBtn.style.display = "none";
           const avatarUrl = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`;
           userInfo.classList.remove("hidden");
           userInfo.innerHTML = `<img src="${avatarUrl}" /><span>${user.username}</span>`;
           userInfo.onclick = () => {
           userPopup.style.display = userPopup.style.display === "block" ? "none" : "block";
           userPopup.innerHTML = `
              <strong>${user.username}#${user.discriminator}</strong><br>
              <img src="${avatarUrl}" width="80" style="border-radius:50%; margin-top:0.5rem;"><br>
              <button onclick="window.location.href='profile.html'">Perfil</button><br>
              <button onclick="logout()">Cerrar sesiÃ³n</button>
            `;
           };
         }
         
         function logout() {
           localStorage.removeItem("user");
           localStorage.removeItem("user_data");
           location.reload();
         }
         
         const theme = localStorage.getItem("theme") || "light";
         document.body.classList.add(theme);
         
         function toggleTheme() {
           const current = localStorage.getItem("theme") || "light";
           const next = current === "light" ? "dark" : "light";
           document.body.classList.replace(current, next);
           localStorage.setItem("theme", next);
         }
      </script>
      <script>
         const enterBtn = document.getElementById('enter-btn');
         const intro = document.getElementById('intro');
         const newsSection = document.getElementById('news-section');
         const filterSection = document.getElementById('filter-section');
         const animeDirectory = document.getElementById('anime-directory');
         const searchInput = document.getElementById('search-input');
         const genreFilters = document.getElementById('genre-filters');
         const detailName = document.getElementById('detail-name');
         const detailDescription = document.getElementById('detail-description');
         const episodeList = document.getElementById('episode-list');
         const videoPlayer = document.getElementById('video-player');
         
         const urlParams = new URLSearchParams(window.location.search);
         const genreFromURL = urlParams.get('genre');
         const animeIdFromURL = urlParams.get('id');
         let allAnimes = [];
         
         async function loadAniListNews() {
           const newsList = document.getElementById('news-list');
           const newsPrev = document.getElementById('news-prev');
           const newsNext = document.getElementById('news-next');
           newsList.innerHTML = '<div style="width:100%;text-align:center;"><p>Cargando noticias de AniList...</p></div>';
           const query = `
             query ($page: Int, $perPage: Int) {
               Page(page: $page, perPage: $perPage) {
                 media(sort: START_DATE_DESC, type: ANIME) {
                   id title { romaji english } coverImage { large }
                   startDate { year month day } description(asHtml: false) siteUrl
                 }
               }
             }
           `;
           try {
             const res = await fetch('https://graphql.anilist.co', {
               method: 'POST',
               headers: { 'Content-Type':'application/json','Accept':'application/json' },
               body: JSON.stringify({ query, variables:{ page:1, perPage:5 } })
             });
             if (!res.ok) throw new Error(`Error HTTP: ${res.status}`);
             const data = await res.json();
             newsList.innerHTML = '';
             let newsItems = [];
             data.data.Page.media.forEach(anime => {
               const div = document.createElement('div');
               div.classList.add('news-item');
               div.style.minWidth = '100%';
               div.style.flexShrink = '0';
               div.innerHTML = `
                 <a href="${anime.siteUrl}" target="_blank" style="display:flex; gap:1rem; align-items:center; text-decoration:none; color:inherit;">
                   <img src="${anime.coverImage.large}" alt="${anime.title.romaji}" />
                   <div>
                     <h3>${anime.title.english||anime.title.romaji}</h3>
                     <p>${anime.description?anime.description.slice(0,120)+'...':'Sin descripciÃ³n.'}</p>
                     <small>Fecha de inicio: ${anime.startDate.year||'?'}-${anime.startDate.month||'?'}-${anime.startDate.day||'?'}<\/small>
                   </div>
                 <\/a>
               `;
               newsItems.push(div);
               newsList.appendChild(div);
             });
             let currentIndex = 0;
             function updateSlider() {
               newsList.style.transform = `translateX(-${currentIndex * 100}%)`;
               newsPrev.style.display = newsItems.length > 1 ? 'block' : 'none';
               newsNext.style.display = newsItems.length > 1 ? 'block' : 'none';
             }
             newsPrev.onclick = () => {
               currentIndex = (currentIndex - 1 + newsItems.length) % newsItems.length;
               updateSlider();
             };
             newsNext.onclick = () => {
               currentIndex = (currentIndex + 1) % newsItems.length;
               updateSlider();
             };
             updateSlider();
           } catch {
             newsList.innerHTML = '<div style="width:100%;text-align:center;"><p>No se pudieron cargar las noticias.</p></div>';
             if(newsPrev) newsPrev.style.display = 'none';
             if(newsNext) newsNext.style.display = 'none';
           }
         }
         
         function loadGenres(animes) {
           if (!Array.isArray(animes)) return;
           genreFilters.innerHTML = '';
           const genres = Array.from(new Set(animes.flatMap(a=>a.genre))).sort();
           genres.forEach(genre => {
             const wrapper = document.createElement('label'); wrapper.className='genre-item';
             const checkbox = document.createElement('input'); checkbox.type='checkbox'; checkbox.value=genre;
             const span = document.createElement('span'); span.textContent=genre;
             wrapper.append(checkbox, span); genreFilters.appendChild(wrapper);
             checkbox.addEventListener('change', filterAnimes);
           });
           if (genreFromURL) {
             const cb = [...genreFilters.querySelectorAll('input')].find(el=>el.value.toLowerCase()===decodeURIComponent(genreFromURL).toLowerCase());
             if (cb){ cb.checked=true; filterAnimes(); }
           }
         }
         
         function filterAnimes() {
           const term = searchInput.value.toLowerCase();
           const checked = [...genreFilters.querySelectorAll('input:checked')].map(c=>c.value);
           const filtered = allAnimes.filter(a=>a.name.toLowerCase().includes(term) && (checked.length===0||checked.some(g=>a.genre.includes(g))));
           renderAnimes(filtered);
         }
         
         function renderAnimes(animes) {
           animeDirectory.innerHTML = '';
           if(animes.length===0){ animeDirectory.innerHTML='<p>No se encontraron resultados.</p>'; return; }
           animes.forEach(a=>{
             const card = document.createElement('div'); card.className='anime-card';
             card.innerHTML = `
               <div class="image-container">
                 <img src="${a.cover}" alt="${a.name}" />
                 <div class="anime-title-overlay">${a.name}</div>
               </div>
             `;
             card.addEventListener('click',()=>window.location.href=`anime.html?id=${encodeURIComponent(a.id)}`);
             animeDirectory.appendChild(card);
           });
         }
         
         function showAnimeDetails(anime) {
           intro.style.display='none'; newsSection.style.display='none'; filterSection.style.display='none'; animeDirectory.style.display='none';
           document.getElementById('anime-details').style.display='block';
           detailName.textContent=anime.name;
           detailDescription.textContent=anime.description||'Sin descripciÃ³n.';
           episodeList.innerHTML=''; videoPlayer.innerHTML='';
           if(anime.episodes?.length){
             anime.episodes.forEach((ep,i)=>{
               const btn=document.createElement('button'); btn.textContent=`${ep.number}. ${ep.title}`;
               btn.addEventListener('click',()=>{
                 [...episodeList.children].forEach(b=>b.classList.remove('active'));
                 btn.classList.add('active');
                 const temp=document.createElement('div'); temp.innerHTML=ep.embed;
                 const iframe=temp.querySelector('iframe');
                 if (iframe) {
                   iframe.removeAttribute('width'); iframe.removeAttribute('height');
                   iframe.style.border = 'none'; iframe.style.display = 'block';
                   const wrapper = document.createElement('div');
                   wrapper.className = 'video-container';
                   wrapper.appendChild(iframe);
                   videoPlayer.innerHTML = '';
                   videoPlayer.appendChild(wrapper);
                 } else {
                   // For other embed types (video tag or raw HTML), try to normalize and wrap them
                   const tempDiv = document.createElement('div');
                   tempDiv.innerHTML = ep.embed;
                   const vid = tempDiv.querySelector('video') || tempDiv.querySelector('iframe') || tempDiv.firstElementChild;
                   if (vid) {
                     if (vid.removeAttribute) { vid.removeAttribute('width'); vid.removeAttribute('height'); }
                     vid.style.border = 'none'; vid.style.display = 'block';
                     const wrapper = document.createElement('div');
                     wrapper.className = 'video-container';
                     wrapper.appendChild(vid);
                     videoPlayer.innerHTML = '';
                     videoPlayer.appendChild(wrapper);
                   } else {
                     videoPlayer.innerHTML = ep.embed;
                   }
                 }
               });
               episodeList.appendChild(btn);
               if(i===0) btn.click();
             });
           } else episodeList.innerHTML='<p>Sin episodios disponibles.</p>';
         }
         
         function loadApp(skipIntro=false) {
           if(!skipIntro) intro.classList.add('hidden'); else intro.style.display='none';
           newsSection.style.display='block'; filterSection.style.display='flex'; animeDirectory.style.display='grid';
           loadAniListNews();
           fetch('animes.json')
             .then(r=>r.json())
             .then(data=>{
               allAnimes=data; loadGenres(allAnimes);
               if(animeIdFromURL){
                 const ani=allAnimes.find(a=>a.id===animeIdFromURL);
                 ani?showAnimeDetails(ani):renderAnimes(allAnimes);
               } else if(genreFromURL) filterAnimes(); else renderAnimes(allAnimes);
             })
             .catch(()=>animeDirectory.innerHTML='<p>Error cargando datos.</p>');
         }
         
         searchInput.addEventListener('input', filterAnimes);
         
         if(genreFromURL||animeIdFromURL) loadApp(true);
         else enterBtn.addEventListener('click', () => {
            const music = document.getElementById('bg-music');
music.volume = 0.2; // volumen al 20%
music.play().catch(e => console.log("Autoplay bloqueado:", e));

         intro.classList.add('fade-out');
         
         // Mostrar el resto despuÃ©s del fade-out
         setTimeout(() => {
         const music = document.getElementById('bg-music');
         if (music) music.play().catch(e => console.log("Autoplay bloqueado:", e));
         intro.style.display = 'none';
         newsSection.style.display = 'block';
         filterSection.style.display = 'flex';
         animeDirectory.style.display = 'grid';
         
         newsSection.classList.add('fade-in');
         filterSection.classList.add('fade-in');
         animeDirectory.classList.add('fade-in');
         
         loadAniListNews();
         fetch('animes.json')
         .then(r => r.json())
         .then(data => {
         allAnimes = data;
         loadGenres(allAnimes);
         if (animeIdFromURL) {
          const ani = allAnimes.find(a => a.id === animeIdFromURL);
          ani ? showAnimeDetails(ani) : renderAnimes(allAnimes);
         } else if (genreFromURL) {
          filterAnimes();
         } else {
          renderAnimes(allAnimes);
         }
         })
         .catch(() => animeDirectory.innerHTML = '<p>Error cargando datos.</p>');
         }, 800); // espera un poco menos del tiempo del fade
         });
         
      </script>
      <footer>
         Â© 2025 Re:Anime - All rights reserved.<br/>
         Un proyecto de <a href="https://discord.com/users/781172416218136577" target="_blank" class="footer-link">Ream</a>.
      </footer>
   </body>
</html>
